<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="author" content="Matthias Braun">

		<title>RSE 102 - Git Basics</title>

		<link rel="stylesheet" href="../../reveal.js/dist/reveal.css">
        <link rel="stylesheet" href="../../css/custom_white.css" id="theme">
        <link rel="stylesheet" href="../../css/atom-one-light.css">
        
	</head>

	<body>

		<div class="reveal">
			<div class="slides">

            <section>
                <section data-markdown="01_version-control_intro.md" data-separator="^---" data-separator-vertical="^--"
                    data-background-image="https://github.githubassets.com/images/modules/site/social-cards/git-guides/git-commit.png"
                    data-background-opacity="0.5"
                    id="title-slide">

                    <div style="text-align:left; width:65%; background-color:rgba(255,255,255,0.8); box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.85);">
                        <h2 style="margin:50px">Git Basics</h2>
                    </div>                  
                </section>

                # Introduction to version control

                ---
                
                ## Why do we need version control?
                
                Version control ...
                
                - tracks changes to files and helps people share those changes with each other.
                    - Could also be done via email / Google Docs / ..., but not as accurately and efficiently
                - was originally developed for software development, but today cornerstone of *reproducible research*
                
                > "If you can't git diff a file format, it's broken."
                
                ---
                
                ## How does version control work?
                
                - *master* (or *main*) copy of code in repository, can't edit directly
                - Instead: check out a working copy of code, edit, commit changes back
                - Repository records complete revision history
                    - You can go back in time
                    - It's clear who did what when
                
                ---
                
                ## The alternative: A story told in file names
                
                <img src="http://phdcomics.com/comics/archive/phd052810s.gif" width=60% style="margin-left:auto; margin-right:auto">
                
                [http://phdcomics.com/comics/archive/phd052810s.gif](http://phdcomics.com/comics/archive/phd052810s.gif)
                
                ---
                
                ## A very short history of version control I
                
                The old centralized variants:
                
                - 1982: RCS (Revision Control System), operates on single files
                - 1986 (release in 1990): CVS (Concurrent Versions System), front end of RCS, operates on whole projects
                - 1994: VSS (Microsoft Visual SourceSafe)
                - 2000: SVN (Apache Subversion), mostly compatible successor of CVS, *still used today*
                
                ---
                
                ## A very short history of version control II
                
                Distributed version control:
                
                - Besides remote master version, also local copy of repository
                - More memory required, but much better performance
                - For a long time: highly fragmented market
                    - 2000: BitKeeper (originally proprietary software)
                    - 2005: Mercurial
                    - 2005: Git
                    - A few more
                
                Learn more: [Podcast All Things Git: History of VC](https://www.allthingsgit.com/episodes/the_history_of_vc_with_eric_sink.html)
                
                ---
                
                ## The only standard today: Git
                
                No longer a fragmented market, there is nearly only Git today:
                
                - [Stackoverflow developer survey 2021](https://insights.stackoverflow.com/survey/2021#technology-most-popular-technologies):
                    > "Over 90% of respondents use Git, suggesting that it is a fundamental tool to being a developer."
                - All software project candidates for *contribution challenge* use Git
                - Is this good or bad?
                
                ---
                
                ## More facts on Git
                
                Git itself is open-source: GPL license
                
                - source on [GitHub](https://github.com/git/git), contributions are a bit more complicated than a simple PR
                - written mainly in C
                - started by Linus Torvalds, core maintainer since later 2005: Junio Hamano
                

            </section>

            <section>
                <section data-markdown="02_basics_demo.md" data-separator="^---" data-separator-vertical="^--"
                    data-background-image="https://github.githubassets.com/images/modules/site/social-cards/git-guides/git-commit.png"
                    data-background-opacity="0.5">
                </section>

                # Git Demo

                ---
                
                ## Recap of Git basics
                
                - Expert level poll on git: ask students to estimate their level.
                    - Beginner: I have hardly ever used Git
                    - User: pull, commit, push, status, diff
                    - Developer: fork, branch, merge, checkout
                    - Maintainer: rebase, squash, cherry-pick, bisect
                    - Owner: submodules
                
                ![git overview picture from py-rse](https://merely-useful.tech/py-rse/figures/git-cmdline/git-remote.png)
                
                - `git --help`, `git commit --help`
                - incomplete statement `git co`
                
                - There is a difference between Git and hosting services ([*forges*](https://en.wikipedia.org/wiki/Forge_(software)))
                    - [GitHub](https://github.com/)
                    - [GitLab](https://about.gitlab.com/), open-source, hosted e.g. at [IPVS](https://gitlab-sim.informatik.uni-stuttgart.de)
                    - [Bitbucket](https://bitbucket.org/product/)
                    - [SourceForge](https://sourceforge.net/)
                    - many more
                    - often, more than just hosting, also DevOps
                
                - Give outlook on remainder of Git chapter: *How I work with Git*, advanced topics (workflows, rebase), exercise
                
                ---
                
                ## How I work with Git
                
                Starting remarks:
                
                - There is not *the one solution* how to do things with Git. I simply show what I typically use.
                - Don't use a client if you don't understand the command line `git`
                
                - (1) Look at GitHub
                    - [preCICE repository](https://github.com/precice/precice)
                    - default branch `develop`
                    - fork -> my fork
                
                --
                
                - (2) Working directory:
                    - ZSH shell shows git branches
                    - `git remote -v` (I have upstream, myfork, ...)
                    - mention difference between ssh and https (also see GitHub)
                    - get newest changes `git pull upstream develop`
                    - `git log` -> I use special format, see `~/.gitconfig`,
                    - check log on GitHub; explain short hash
                    - `git branch`
                    - `git branch add-demo-feature`
                    - `git checkout add-demo-feature`
                
                --
                
                - (3) First commit
                    - `git status` -> always tells you what you can do
                    - `vi src/action/Action.hpp` -> add `#include "MagicHeader.hpp"`
                    - `git diff`, `git diff src/com/Action.hpp`, `git diff --color-words`
                    - `git status`, `git add`, `git status`
                    - `git commit` -> "Include MagicHeader in Action.hpp"
                    - `git status`, `git log`, `git log -p`, `git show`
                
                --
                
                - (4) Change or revert things
                    - I forgot to add sth: `git reset --soft HEAD~1`, `git status`
                    - `git diff`, `git diff HEAD` because already staged
                    - `git log`
                    - `git commit`
                    - actually all that is nonsense: `git reset --hard HEAD~1`
                    - modify again, all nonsense before committing: `git checkout src/action/Action.hpp`
                
                --
                
                - (5) Stash
                    - while working on unfinished feature, I need to change / test this other thing quickly, too lazy for commits / branches
                    - `git stash`
                    - `git stash pop`
                
                --
                
                - (6) Create PR
                    - create commit again
                    - preview what will be in PR: `git diff develop..add-demo-feature`
                    - `git push -u myfork add-demo-feature` -> copy link
                    - explain PR template
                    - explain target branch
                    - explain "Allow edits by maintainers"
                    - cancel
                    - my fork -> branches -> delete
                
                --
                
                - (7) Check out someone else's work
                    - have a look at an existing PR, look at all tabs, show suggestion feature
                    - but sometimes we want to really build and try sth out ...
                    - `git remote -v`
                    - `git remote add alex git@github.com:ajaust/precice.git` if I don't have remote already (or somebody else)
                    - `git fetch alex`
                    - `git checkout -t alex/[branch-name]`
                    - I could now also push to `ajaust`'s remote
                
                ---
                
                ## Further reading
                
                ### Quick things
                
                - [Video: Git in 15 minutes: basics, branching, no remote](https://www.youtube.com/watch?v=USjZcfj8yxE)
                - [The GitHub Blog: Commits are snapshots, not diffs](https://github.blog/2020-12-17-commits-are-snapshots-not-diffs/)
                - Chapters [6](https://merely-useful.tech/py-rse/git-cmdline.html) and [7](https://merely-useful.tech/py-rse/git-advanced.html) of Research Software Engineering with Python
                - [Podcast All Things Git: History of VC](https://www.allthingsgit.com/episodes/the_history_of_vc_with_eric_sink.html)
                - [git purr](https://girliemac.com/blog/2017/12/26/git-purr/)
                
                ### References
                
                - [Official documentation](http://git-scm.com/doc)
                

            </section>

            </div>
		</div>


		<script src="../../reveal.js/dist/reveal.js"></script>
        <script src="../../reveal.js/plugin/markdown/markdown.js"></script>
        <script src="../../reveal.js/plugin/highlight/highlight.js"></script>
        <script src="../../reveal.js/plugin/notes/notes.js"></script>
        <script src="../../reveal.js/plugin/math/math.js"></script>

		<script>

			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX ]
			});

		</script>

	</body>
</html>
